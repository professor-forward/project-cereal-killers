{"ast":null,"code":"var _jsxFileName = \"D:\\\\uOttawa\\\\2022 W\\\\CSI 3140\\\\Project\\\\Cupid-Arrow\\\\cupid_arrow\\\\src\\\\Cards.js\",\n    _s = $RefreshSig$();\n\nimport \"./Cards.css\";\nimport React, { useState, useEffect } from 'react';\nimport TinderCard from \"react-tinder-card\";\nimport database from \"./firebase\";\nimport { collection, getDocs } from 'firebase/firestore/lite';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Cards() {\n  _s();\n\n  const [lastDirection, setLastDirection] = useState([]);\n  const [people, setPeople] = useState([]); // Every time swipe the card , call swiped function to log the swipe name and direction\n\n  function swiped(direction, nameToDelete) {\n    console.log(\"removing: \" + nameToDelete);\n    setLastDirection(direction);\n  }\n\n  function outOfFrame(name) {\n    console.log(name + \"left the screen\");\n  }\n\n  useEffect(() => {\n    // collection(database,'people').onSnapshot(snapshot => (\n    //     snapshot.docs.map(doc => doc.data())\n    // ))\n    // const peopleSnapshot = await getDocs(collection(database, 'people'))\n    // peopleSnapshot.docs.map(doc => doc.data())\n    async function getPeople() {\n      const peopleSnapshot = await getDocs(collection(database, 'people'));\n      const peopleList = peopleSnapshot.docs.map(doc => doc.data());\n      setPeople(peopleList);\n      return peopleList;\n    }\n\n    (async () => {\n      const unsubscribe = await getPeople();\n      return () => {\n        unsubscribe();\n      };\n    })();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"swipe_container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"cards_container\",\n      children: [people.map(person => /*#__PURE__*/_jsxDEV(TinderCard, {\n        className: \"swipe\",\n        preventSwipe: ['up', 'down'],\n        onSwipe: dir => swiped(dir, person.name),\n        onCardLeftScreen: () => outOfFrame(person.name),\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card\",\n          style: {\n            backgroundImage: `url(${person.url})`\n          },\n          children: /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: person.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 25\n        }, this)\n      }, person.name, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 21\n      }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"swipe_info\",\n        children: lastDirection ? /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"You swiped \", lastDirection, \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 25\n        }, this) : /*#__PURE__*/_jsxDEV(\"p\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Cards, \"X5YzLXjAsJPDcod30LFybHw7N2s=\");\n\n_c = Cards;\nexport default Cards;\n\nvar _c;\n\n$RefreshReg$(_c, \"Cards\");","map":{"version":3,"sources":["D:/uOttawa/2022 W/CSI 3140/Project/Cupid-Arrow/cupid_arrow/src/Cards.js"],"names":["React","useState","useEffect","TinderCard","database","collection","getDocs","Cards","lastDirection","setLastDirection","people","setPeople","swiped","direction","nameToDelete","console","log","outOfFrame","name","getPeople","peopleSnapshot","peopleList","docs","map","doc","data","unsubscribe","person","dir","backgroundImage","url"],"mappings":";;;AAAA,OAAO,aAAP;AACA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,UAAP,MAAuB,mBAAvB;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,SAASC,UAAT,EAAqBC,OAArB,QAAoC,yBAApC;;;AAGA,SAASC,KAAT,GAAiB;AAAA;;AACb,QAAM,CAACC,aAAD,EAAgBC,gBAAhB,IAAoCR,QAAQ,CAAC,EAAD,CAAlD;AACA,QAAM,CAACS,MAAD,EAASC,SAAT,IAAsBV,QAAQ,CAAC,EAAD,CAApC,CAFa,CAIb;;AACA,WAASW,MAAT,CAAiBC,SAAjB,EAA4BC,YAA5B,EAA0C;AACtCC,IAAAA,OAAO,CAACC,GAAR,CAAY,eAAcF,YAA1B;AACAL,IAAAA,gBAAgB,CAACI,SAAD,CAAhB;AACH;;AAED,WAASI,UAAT,CAAoBC,IAApB,EAA0B;AACtBH,IAAAA,OAAO,CAACC,GAAR,CAAYE,IAAI,GAAG,iBAAnB;AACH;;AAEDhB,EAAAA,SAAS,CAAC,MAAM;AACZ;AACA;AACA;AAEA;AACA;AAEA,mBAAeiB,SAAf,GAA0B;AACtB,YAAMC,cAAc,GAAG,MAAMd,OAAO,CAACD,UAAU,CAACD,QAAD,EAAW,QAAX,CAAX,CAApC;AACA,YAAMiB,UAAU,GAAGD,cAAc,CAACE,IAAf,CAAoBC,GAApB,CAAwBC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EAA/B,CAAnB;AACAd,MAAAA,SAAS,CAACU,UAAD,CAAT;AACA,aAAOA,UAAP;AACH;;AACD,KAAC,YAAW;AACR,YAAMK,WAAW,GAAG,MAAMP,SAAS,EAAnC;AAEA,aAAM,MAAM;AACRO,QAAAA,WAAW;AACd,OAFD;AAGH,KAND;AASH,GAvBQ,EAuBP,EAvBO,CAAT;AAyBA,sBACI;AAAK,IAAA,SAAS,EAAC,iBAAf;AAAA,2BACI;AAAK,MAAA,SAAS,EAAC,iBAAf;AAAA,iBACKhB,MAAM,CAACa,GAAP,CAAWI,MAAM,iBACd,QAAC,UAAD;AACI,QAAA,SAAS,EAAG,OADhB;AAGI,QAAA,YAAY,EAAI,CAAC,IAAD,EAAO,MAAP,CAHpB;AAII,QAAA,OAAO,EAAKC,GAAD,IAAShB,MAAM,CAACgB,GAAD,EAAMD,MAAM,CAACT,IAAb,CAJ9B;AAKI,QAAA,gBAAgB,EAAI,MAAMD,UAAU,CAACU,MAAM,CAACT,IAAR,CALxC;AAAA,+BAOI;AAAK,UAAA,SAAS,EAAG,MAAjB;AAAwB,UAAA,KAAK,EAAI;AAACW,YAAAA,eAAe,EAAG,OAAMF,MAAM,CAACG,GAAI;AAApC,WAAjC;AAAA,iCACI;AAAA,sBAAKH,MAAM,CAACT;AAAZ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AAPJ,SAEWS,MAAM,CAACT,IAFlB;AAAA;AAAA;AAAA;AAAA,cADH,CADL,eAcI;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA,kBACKV,aAAa,gBACV;AAAA,oCAAeA,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA,gBADU,gBAGV;AAAA;AAAA;AAAA;AAAA;AAJR;AAAA;AAAA;AAAA;AAAA,cAdJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,UADJ;AA2BH;;GAlEQD,K;;KAAAA,K;AAsET,eAAeA,KAAf","sourcesContent":["import \"./Cards.css\"\r\nimport React, { useState, useEffect } from 'react'\r\nimport TinderCard from \"react-tinder-card\"\r\nimport database from \"./firebase\"\r\nimport { collection, getDocs } from 'firebase/firestore/lite';\r\n\r\n\r\nfunction Cards() {\r\n    const [lastDirection, setLastDirection] = useState([])\r\n    const [people, setPeople] = useState([]);\r\n\r\n    // Every time swipe the card , call swiped function to log the swipe name and direction\r\n    function swiped (direction, nameToDelete) {\r\n        console.log(\"removing: \"+ nameToDelete)\r\n        setLastDirection(direction)\r\n    }\r\n\r\n    function outOfFrame(name) {\r\n        console.log(name + \"left the screen\")\r\n    }\r\n\r\n    useEffect(() => {\r\n        // collection(database,'people').onSnapshot(snapshot => (\r\n        //     snapshot.docs.map(doc => doc.data())\r\n        // ))\r\n\r\n        // const peopleSnapshot = await getDocs(collection(database, 'people'))\r\n        // peopleSnapshot.docs.map(doc => doc.data())\r\n        \r\n        async function getPeople(){\r\n            const peopleSnapshot = await getDocs(collection(database, 'people'))\r\n            const peopleList = peopleSnapshot.docs.map(doc => doc.data())\r\n            setPeople(peopleList);\r\n            return peopleList;\r\n        }\r\n        (async() => {\r\n            const unsubscribe = await getPeople();\r\n            \r\n            return() => {\r\n                unsubscribe();\r\n            }\r\n        })();\r\n        \r\n\r\n    },[])\r\n\r\n    return ( \r\n        <div className=\"swipe_container\">\r\n            <div className=\"cards_container\">\r\n                {people.map(person => (\r\n                    <TinderCard \r\n                        className = \"swipe\"\r\n                        key = {person.name}\r\n                        preventSwipe = {['up', 'down']}\r\n                        onSwipe = {(dir) => swiped(dir, person.name)}\r\n                        onCardLeftScreen = {() => outOfFrame(person.name)} \r\n                    >\r\n                        <div className = \"card\" style = {{backgroundImage: `url(${person.url})`}}>\r\n                            <h3>{person.name}</h3>\r\n                        </div>\r\n                    </TinderCard>\r\n                ))}\r\n                <div className=\"swipe_info\">\r\n                    {lastDirection ? (\r\n                        <p>You swiped {lastDirection} </p>\r\n                     ) : (\r\n                        <p/>\r\n                     )}\r\n                </div>\r\n            </div>\r\n        </div>\r\n            \r\n    )\r\n}\r\n\r\n\r\n\r\nexport default Cards"]},"metadata":{},"sourceType":"module"}